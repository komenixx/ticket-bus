!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function c(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(c,u)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(c=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(c=c.call(o,n[1])).done)return c;switch(o=0,c&&(n=[0,c.value]),n[0]){case 0:case 1:c=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!c||n[1]>c[0]&&n[1]<c[3])){s.label=n[1];break}if(6===n[0]&&s.label<c[1]){s.label=c[1],c=n;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(n);break}c[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],o=0}finally{i=c=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,c,u,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.tickets=[]}return t.prototype.getTicket=function(t){for(var e=0,n=this.tickets;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},t.prototype.addTicket=function(t,e){this.isTicketExists(t)&&this.removeTicket(t),this.tickets.push({name:t,fn:e})},t.prototype.removeTicket=function(t){var e=this.getTicket(t);this.tickets=this.tickets.filter(function(t){return t!==e})},t.prototype.send=function(){return r(this,void 0,void 0,function(){var t,e,n,r,o,c,u,s;return i(this,function(i){switch(i.label){case 0:t=[],e=0,n=this.tickets,i.label=1;case 1:if(!(e<n.length))return[3,6];r=n[e],i.label=2;case 2:return i.trys.push([2,4,,5]),c=(o=t).push,u={name:r.name},[4,r.fn()];case 3:return c.apply(o,[(u.success=i.sent(),u)]),[3,5];case 4:return s=i.sent(),t.push({name:r.name,error:s}),[3,5];case 5:return e++,[3,1];case 6:return this.clear(),[2,t]}})})},t.prototype.getTicketsLength=function(){return this.getTickets().length},t.prototype.getTickets=function(){return this.tickets},t.prototype.clear=function(){this.tickets=[]},t.prototype.isTicketExists=function(t){return!!this.getTicket(t)},t}();e.Bus=o}]);